


## MAC地址
MAC地址就是在链路层上使用的地址,也叫物理地址、硬件地址或链路地址,其被固化在适配器(网卡)的ROM中。可见MAC地址实际上就是适配器(网卡)地址或标识符。当某台计算机使用某块适配器后,适配器上的标识符就成为该计算机的MAC地址。MAC地址长度为6字节(48比特),由IEEE的注册管理结构RA进行管理分配。
 

## MTU与路径MTU 
以太网和IEEE 802.3对数据帧的长度都有限制,其最大值分别是1500和1492字节,将这个限制称作最大传输单元(MTU,Maximum Transmission Unit).
如果IP层有一个数据报要传,而且数据的长度比链路层的MTU还大,那么IP层就要进行分片(Fragmentation),把数据报分成若干片,这样每一片都小于MTU。
当网络上的两台主机互相进行通信时,两台主机之间要经过多个网络,每个网络的链路层可能有不同的MTU,其中两台通信主机路径中的最小MTU被称作路径MTU。
 


## 如何实现“透明传输”?
透明传输的基本概念：数据透明传输就是用户不受协议中的任何限制,可随机的传输任意比特编码的信息, 用户可以完全不必知道协议中所规定的结束段的比特编码或者其他的控制字符,因而不受限制的进行传输。
**(1)字符填充**
基本思想:发送端在数据中出现的控制字符”SOH”或”EOT”的前面插入一个转义字符”ESC”(其十六进制编码为1B), 而接收端在将接受到的数据送到上层之前删除之前发送端插入的转义字符;
如果转义字符也出现在数据当中, 那么应在转义字符前面插入一个转义字符, 当接收端收到连续的两个转义字符时, 就删除其中前面的一个.
字符填充PPP协议实例: 将信息字段中出现的每一个0x7E字节转换成为2字节序列(0x7D, 0x5E), 若信息字段中出现一个0x7D的字节, 则将其转变成为2字节序列(0x7D, 0x5D). 若信息字段中出现ASCII码的控制字符(即数值小于0x20的字符), 则在该字符前面要加入一个0x7D字节, 同时将该字节的编码加以改变;
**(2)零比特填充**
基本原理:在发送端, 只要发现有5个连续的1, 则立即填入一个0. 接收端对帧中的比特流进行扫描时, 每当发现5个连续的1时, 就把这5个连续的1之后的一个0删除(因为01111110(6个1)表示HDLC数据块的起始和结束,从而构成最终传输的帧).
注意：只要出现了5个连续的1,则必须加上一个0！ 
 
## CRC循环校验法
在发送端, 先把数据划分为组, 假定每组K个比特(K位), 同时假定待传送的一组数据M=101001(K=6), 我们在M的后面再添加供差错检测用的N位冗余码一起发送.
 
N位冗余码求解方法:
首先,用二进制的模2运算[一种特殊的运算: 00得1, 11得1, 01得0, 10得0, 但不进位/退位]进行2^N乘M的运算, 这相当于在M后面添加N个0;
然后, 用得到的(K+N)位的数除以事先选定好的长度为(N+1)位的除数P, 得出商为Q且余数是R, 余数R比除数P少1位, 即R是N位;
最后,使用R替换N个0, 即得到要发送的数据.
示例:
假设现在K=6, M=101001, 设N=3, 除数P=1101, 则被除数为(2^N)*M = 101001000, 模2运算的结果为: 商110101, 余数R=001, 因此最终得到需要发送的数据位101001001
 
接收端校验:
接收端对收到的每一帧进行CRC校验如下:
(1)若得出的余数R=0, 则判定这个帧没有差错, 接受accept;
(2)若得出的余数R!=0, 则判定这个帧有差错, 丢弃abandon.
 
注意:这种检测方法并不能确定究竟是哪一个/几个比特出了差错, 但是只要经过严格的挑选, 并使用位数足够多的除数P, 那么出现检测不到的差错的概率就很小很小了;
因此仅用循环冗余校验CRC差错检验技术只能做到”无差错接受”.
 

##网络设备
**1)物理层用到的设备是中继器和集线器**
中继器的主要功能是对接收到的信号进行再生整形放大以扩大网络的传输距离(从一个网络电缆中接收信号, 放大它们, 然后将其送入下一个电缆)。
集线器(HUB)就是将网线集中到一起的机器,也就是多台主机和设备的连接器。集线器的主要功能是对接收到的信号进行同步整形放大(同中继器),以扩大网络的传输距离; 与中继器的区别在于集线器能够提供多端口服务,也称为多端口中继器。
 
**2)数据链路层用到的设备是交换机和网桥**
交换机是一种基于MAC识别,能完成封装, 转发数据包功能的网络设备。它可以“学习”MAC地址,并把其存放在内部地址表中,当一个数据帧的目的地址在MAC地址表中有映射时,它被转发到连接目的节点的端口而不是所有端口。交换机将局域网分为多个冲突域,每个冲突域都是有独立的宽带,因此大大提高了局域网的带宽。
网桥就是个硬件网络协议翻译器, 在网络互联中可起到数据接收、地址过滤与数据转发的作用, 可用来实现多个不同网络系统之间的数据交换。
 
**3)网络层用到的设备是路由器**
路由器用于连接多个逻辑上分开的网络,具有路由和转发的功能,它能在多网络互联环境中,建立灵活的连接,可用完全不同的数据分组和介质访问方法连接各种子网(我们将在网络层对路由器有更详尽的描述)。
 
**4)应用层用到的设备是网关**
网关(协议转换器)是在网络层之上的具有协议转换功能的设施,所以称为设施,是因为网关不一定是一台设备,有可能在一台主机中实现网关功能。 
网关分类:
　　1)协议网关：协议网关通常在使用不同协议的网络区域间做协议转换。 
　　2)应用网关：应用网关是在使用不同数据格式间翻译数据的系统。 
　　3)安全网关：安全网关是各种技术的融合,具有重要且独特的保护作用,其范围从协议级过滤到十分复杂的应用级过滤。